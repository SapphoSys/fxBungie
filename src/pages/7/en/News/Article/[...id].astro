---
export const prerender = false;
import { getArticle } from '$utils/contentStack';

import Article from '~/layouts/Article.astro';

const pathId = Astro.params.id;
if (!pathId) return Astro.redirect('/404');

const article = await getArticle(pathId, Astro.url.origin);
if (!article) return Astro.rewrite('/404');

const { title, description, openGraph, bungieUrl, imageUrl } = article;

import '$styles/article.css';
---

<Article {title} {description} {openGraph} {bungieUrl} {imageUrl} fullWidth={true} />
